Ужастный пример школьного кода, который любезно сгенерировал чатгпт.
ужасная реализация и ужасные методы, ЦС manage_borrow_return = 7, search books 6.

Рефакторинг по снижению ЦА заключался в добавлении элементарной базы (в данном примере это сделано плохо и
прямо в класс Library, в настоящем коде это нужно выносить в отдельную абстракцию) и переопределению базовой логики,
я старался по максимуму избавиться от условных конструкций и циклов, в результате получился хоть и "в вакууме"
но вполне аккуратный код с ЦС всех методов 1 или 2.